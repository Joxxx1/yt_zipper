# ğŸª Cookiesè®¾ç½®æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

`cookies.txt` æ–‡ä»¶æ˜¯YouTubeè§†é¢‘ä¸‹è½½å™¨çš„å…³é”®ç»„ä»¶ï¼Œç”¨äºç»•è¿‡è®¿é—®é™åˆ¶å’Œä¸‹è½½é«˜æ¸…è§†é¢‘ã€‚æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨æ­£ç¡®è®¾ç½®cookiesæ–‡ä»¶ã€‚

## âš ï¸ é‡è¦æé†’

- **éšç§å®‰å…¨**: cookies.txt åŒ…å«æ‚¨çš„ç™»å½•ä¿¡æ¯ï¼Œè¯·å¦¥å–„ä¿ç®¡
- **ä¸è¦åˆ†äº«**: ä¸è¦å°†æ‚¨çš„cookies.txtæ–‡ä»¶åˆ†äº«ç»™ä»–äºº
- **å®šæœŸæ›´æ–°**: cookiesä¼šå®šæœŸè¿‡æœŸï¼Œå»ºè®®æ¯å‘¨æ›´æ–°ä¸€æ¬¡
- **ä»…ä¾›å­¦ä¹ **: æœ¬å·¥å…·ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨

## ğŸ”§ è·å–cookies.txtçš„æ–¹æ³•

### æ–¹æ³•1ï¼šä½¿ç”¨æµè§ˆå™¨æ‰©å±•ï¼ˆæ¨èï¼‰

#### Chromeæµè§ˆå™¨
1. **å®‰è£…æ‰©å±•**ï¼š
   - æ‰“å¼€ [Chromeç½‘ä¸Šåº”ç”¨åº—](https://chrome.google.com/webstore/detail/get-cookiestxt-locally/cclelndahbckbenkjhflpdbgdldlbecc)
   - æœç´¢ "Get cookies.txt LOCALLY"
   - ç‚¹å‡»"æ·»åŠ è‡³Chrome"

2. **è·å–cookies**ï¼š
   - è®¿é—® [YouTube](https://www.youtube.com)
   - ç¡®ä¿å·²ç™»å½•æ‚¨çš„Googleè´¦æˆ·
   - ç‚¹å‡»æ‰©å±•å›¾æ ‡ï¼ˆåœ¨æµè§ˆå™¨å³ä¸Šè§’ï¼‰
   - é€‰æ‹©"Export"å¯¼å‡ºcookies.txtæ–‡ä»¶

#### Firefoxæµè§ˆå™¨
1. **å®‰è£…æ‰©å±•**ï¼š
   - æ‰“å¼€ [Firefoxé™„åŠ ç»„ä»¶](https://addons.mozilla.org/en-US/firefox/addon/cookies-txt/)
   - æœç´¢ "cookies.txt"
   - ç‚¹å‡»"æ·»åŠ åˆ°Firefox"

2. **è·å–cookies**ï¼š
   - è®¿é—®YouTubeå¹¶ç™»å½•
   - ç‚¹å‡»æ‰©å±•å›¾æ ‡
   - å¯¼å‡ºcookies.txtæ–‡ä»¶

### æ–¹æ³•2ï¼šæ‰‹åŠ¨åˆ›å»º

1. **ç™»å½•YouTube**ï¼š
   - æ‰“å¼€æµè§ˆå™¨è®¿é—® [YouTube](https://www.youtube.com)
   - ä½¿ç”¨Googleè´¦æˆ·ç™»å½•

2. **æ‰“å¼€å¼€å‘è€…å·¥å…·**ï¼š
   - æŒ‰ `F12` æˆ–å³é”®é€‰æ‹©"æ£€æŸ¥"
   - åˆ‡æ¢åˆ°"Application"æˆ–"å­˜å‚¨"æ ‡ç­¾

3. **æ‰¾åˆ°Cookies**ï¼š
   - åœ¨å·¦ä¾§æ‰¾åˆ°"Cookies"
   - ç‚¹å‡» "https://www.youtube.com"

4. **å¯¼å‡ºcookies**ï¼š
   - å¤åˆ¶æ‰€æœ‰cookiesä¿¡æ¯
   - æŒ‰ç…§Netscapeæ ¼å¼ä¿å­˜ä¸ºcookies.txt

### æ–¹æ³•3ï¼šä½¿ç”¨Pythonè„šæœ¬

åˆ›å»ºä¸€ä¸ªè‡ªåŠ¨è·å–cookiesçš„è„šæœ¬ï¼š

```python
# get_cookies.py
import browser_cookie3
import http.cookiejar

def export_cookies():
    """å¯¼å‡ºYouTube cookiesåˆ°cookies.txtæ–‡ä»¶"""
    try:
        # è·å–Chromeæµè§ˆå™¨çš„cookies
        cookies = browser_cookie3.chrome(domain_name='.youtube.com')
        
        # åˆ›å»ºcookies.txtæ–‡ä»¶
        with open('cookies.txt', 'w', encoding='utf-8') as f:
            f.write('# Netscape HTTP Cookie File\n')
            f.write('# https://curl.se/rfc/cookie_spec.html\n')
            f.write('# This file was generated by get_cookies.py\n\n')
            
            for cookie in cookies:
                # æ£€æŸ¥æ˜¯å¦æ˜¯YouTubeç›¸å…³çš„cookie
                if 'youtube.com' in cookie.domain or 'google.com' in cookie.domain:
                    f.write(f'{cookie.domain}\tTRUE\t{cookie.path}\t'
                           f'{"TRUE" if cookie.secure else "FALSE"}\t{cookie.expires}\t'
                           f'{cookie.name}\t{cookie.value}\n')
        
        print("âœ… cookies.txt æ–‡ä»¶å·²æˆåŠŸåˆ›å»ºï¼")
        return True
        
    except Exception as e:
        print(f"âŒ è·å–cookieså¤±è´¥: {e}")
        print("ğŸ’¡ è¯·ç¡®ä¿å·²ç™»å½•YouTubeå¹¶å®‰è£…äº†browser_cookie3åº“")
        return False

if __name__ == "__main__":
    # å®‰è£…ä¾èµ–ï¼špip install browser_cookie3
    export_cookies()
```

## ğŸ“ æ–‡ä»¶æ ¼å¼

cookies.txt æ–‡ä»¶åº”æŒ‰ç…§Netscapeæ ¼å¼ä¿å­˜ï¼š

```
# Netscape HTTP Cookie File
# https://curl.se/rfc/cookie_spec.html
# This file was generated by browser extension

.youtube.com	TRUE	/	FALSE	1735689600	VISITOR_INFO1_LIVE	abc123
.youtube.com	TRUE	/	FALSE	1735689600	LOGIN_INFO	xyz789
.google.com	TRUE	/	FALSE	1735689600	SID	123456
```

### æ ¼å¼è¯´æ˜
- ç¬¬1åˆ—ï¼šåŸŸå
- ç¬¬2åˆ—ï¼šæ˜¯å¦åŒ…å«å­åŸŸåï¼ˆTRUE/FALSEï¼‰
- ç¬¬3åˆ—ï¼šè·¯å¾„
- ç¬¬4åˆ—ï¼šæ˜¯å¦å®‰å…¨è¿æ¥ï¼ˆTRUE/FALSEï¼‰
- ç¬¬5åˆ—ï¼šè¿‡æœŸæ—¶é—´ï¼ˆUnixæ—¶é—´æˆ³ï¼‰
- ç¬¬6åˆ—ï¼šcookieåç§°
- ç¬¬7åˆ—ï¼šcookieå€¼

## ğŸ” éªŒè¯cookies.txtæ–‡ä»¶

åˆ›å»ºæ–‡ä»¶åï¼Œå¯ä»¥éªŒè¯å…¶æœ‰æ•ˆæ€§ï¼š

```python
# verify_cookies.py
def verify_cookies():
    """éªŒè¯cookies.txtæ–‡ä»¶"""
    try:
        with open('cookies.txt', 'r', encoding='utf-8') as f:
            content = f.read()
            
        # æ£€æŸ¥æ˜¯å¦åŒ…å«YouTubeç›¸å…³cookies
        if 'youtube.com' in content:
            print("âœ… cookies.txt æ–‡ä»¶æ ¼å¼æ­£ç¡®")
            print("âœ… åŒ…å«YouTube cookies")
            return True
        else:
            print("âš ï¸ cookies.txt æ–‡ä»¶å¯èƒ½ä¸åŒ…å«YouTube cookies")
            return False
            
    except FileNotFoundError:
        print("âŒ æœªæ‰¾åˆ°cookies.txtæ–‡ä»¶")
        return False
    except Exception as e:
        print(f"âŒ éªŒè¯å¤±è´¥: {e}")
        return False

if __name__ == "__main__":
    verify_cookies()
```

## ğŸ“ ä½¿ç”¨æ­¥éª¤

### 1. è·å–cookies.txtæ–‡ä»¶
ä½¿ç”¨ä¸Šè¿°ä»»ä¸€æ–¹æ³•è·å–cookies.txtæ–‡ä»¶

### 2. æ”¾ç½®æ–‡ä»¶
- å°† `cookies.txt` æ–‡ä»¶æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•
- ä¸ `enhanced_downloader.py` åœ¨åŒä¸€æ–‡ä»¶å¤¹

### 3. éªŒè¯æ–‡ä»¶
```bash
python verify_cookies.py
```

### 4. å¼€å§‹ä¸‹è½½
```bash
python quick_start.py
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: cookies.txtæ–‡ä»¶æ— æ•ˆæ€ä¹ˆåŠï¼Ÿ**
A: ç¡®ä¿æ–‡ä»¶æ ¼å¼æ­£ç¡®ï¼ŒåŒ…å«YouTubeç›¸å…³cookiesï¼Œå¹¶ä¸”å·²ç™»å½•YouTubeã€‚

**Q: ä¸‹è½½æ—¶æç¤ºcookiesé”™è¯¯ï¼Ÿ**
A: é‡æ–°è·å–cookies.txtæ–‡ä»¶ï¼Œç¡®ä¿åŒ…å«æœ€æ–°çš„ç™»å½•ä¿¡æ¯ã€‚

**Q: cookiesæ–‡ä»¶è¿‡æœŸæ€ä¹ˆåŠï¼Ÿ**
A: cookiesä¼šå®šæœŸè¿‡æœŸï¼Œéœ€è¦é‡æ–°è·å–ã€‚å»ºè®®æ¯å‘¨æ›´æ–°ä¸€æ¬¡ã€‚

**Q: æ— æ³•è·å–cookiesï¼Ÿ**
A: ç¡®ä¿å·²ç™»å½•YouTubeï¼Œå°è¯•ä½¿ç”¨ä¸åŒçš„æµè§ˆå™¨æˆ–æ‰©å±•ã€‚

### é”™è¯¯ä»£ç 
- `FileNotFoundError`: cookies.txtæ–‡ä»¶ä¸å­˜åœ¨
- `ValueError`: cookiesæ–‡ä»¶æ ¼å¼é”™è¯¯
- `PermissionError`: æ–‡ä»¶æƒé™é—®é¢˜

## ğŸ”’ å®‰å…¨å»ºè®®

1. **æ–‡ä»¶ä¿æŠ¤**ï¼š
   - ä¸è¦å°†cookies.txtæ–‡ä»¶ä¸Šä¼ åˆ°å…¬å…±ä»“åº“
   - åœ¨.gitignoreä¸­å¿½ç•¥cookies.txtæ–‡ä»¶
   - å®šæœŸåˆ é™¤æ—§çš„cookiesæ–‡ä»¶

2. **è´¦æˆ·å®‰å…¨**ï¼š
   - ä½¿ç”¨ä¸“é—¨çš„æµ‹è¯•è´¦æˆ·
   - å®šæœŸæ›´æ¢å¯†ç 
   - å¯ç”¨ä¸¤æ­¥éªŒè¯

3. **ä½¿ç”¨é™åˆ¶**ï¼š
   - ä»…ç”¨äºå­¦ä¹ å’Œç ”ç©¶
   - éµå®ˆYouTubeæœåŠ¡æ¡æ¬¾
   - ä¸è¦ç”¨äºå•†ä¸šç”¨é€”

## ğŸ“Š æ–‡ä»¶å¤§å°å‚è€ƒ

- æ­£å¸¸çš„cookies.txtæ–‡ä»¶å¤§å°ï¼š1-10KB
- åŒ…å«çš„cookiesæ•°é‡ï¼š10-50ä¸ª
- ä¸»è¦åŒ…å«çš„åŸŸåï¼šyoutube.com, google.com

## ğŸ¯ æœ€ä½³å®è·µ

1. **å®šæœŸæ›´æ–°**ï¼šæ¯å‘¨æ›´æ–°ä¸€æ¬¡cookiesæ–‡ä»¶
2. **å¤‡ä»½ç®¡ç†**ï¼šä¿ç•™å¤šä¸ªç‰ˆæœ¬çš„cookiesæ–‡ä»¶
3. **æµ‹è¯•éªŒè¯**ï¼šæ¯æ¬¡æ›´æ–°åæµ‹è¯•ä¸‹è½½åŠŸèƒ½
4. **é”™è¯¯è®°å½•**ï¼šè®°å½•cookiesç›¸å…³çš„é”™è¯¯ä¿¡æ¯

---

**ğŸ’¡ æç¤º**: æ­£ç¡®è®¾ç½®cookies.txtæ–‡ä»¶æ˜¯æˆåŠŸä¸‹è½½é«˜æ¸…è§†é¢‘çš„å…³é”®ï¼
